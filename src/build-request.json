{
  "kind": "build_request",
  "title": "Fix non-working Change Location button",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Fix the \"Change Location\" button flow so that clicking it from the weather results view always returns the user to the location search screen and allows selecting a new place (i.e., clear the previously selected place state before showing search).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4"
        ],
        "quotes": [
          "Change the location button is not working"
        ]
      },
      "acceptanceCriteria": [
        "When viewing a selected location's weather, clicking the \"Change Location\" button navigates back to the Location Search UI.",
        "After clicking \"Change Location\", the previous location is no longer treated as selected (the WeatherPanel is not rendered until a new place is chosen).",
        "A user can successfully select a new search result and see the weather update for the newly selected location."
      ]
    }
  ],
  "constraints": [
    "Do not edit files under frontend/src/components/ui (shadcn/ui components).",
    "Do not edit frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useInternetIdentity.tsx, frontend/src/hooks/useActor.ts, or frontend/src/main.tsx."
  ],
  "nonGoals": [
    "Do not add new backend (Motoko) functionality for this fix.",
    "Do not change the geocoding provider/API behavior beyond what is required to restore the button flow."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}